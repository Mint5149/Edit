<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mega Menu with Persistent Underline</title>

    <link rel="stylesheet" href="styles/header.css">
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/product.css">


    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>
    <header class="navbar">
        <div class="navbar-content">
            <div class="navbar-left">
                <div class="logo">
                    <a href="#">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/f/fa/Apple_logo_black.svg"
                            alt="apple-logo">
                    </a>
                </div>
                <nav class="main-menu" >
                    <ul>
                        <li class="dropdown js-overlay-trigger ">
                            <a href="#" class="dropbtn">Mac</a>
                            <div class="dropdown-content">
                                <div class="mega-menu-container">
                                    <div class="product-grid">
                                        <a href="#" class="product-item">
                                            <div class="product-image-wrapper">
                                                <img src="./styles/picmac/111883_macbookair.png"
                                                    alt="MacBook Air">
                                            </div>
                                            <p class="product-name">MacBook Air</p>
                                            <span class="new-tag">New</span>
                                        </a>
                                        <a href="#" class="product-item">
                                            <div class="product-image-wrapper">
                                                <img src="./styles/picmac/pngtree-apple-macbook-pro-png-image_13108405.png"
                                                    alt="MacBook Pro">
                                            </div>
                                            <p class="product-name">MacBook Pro</p>
                                            <span class="new-tag">New</span>
                                        </a>
                                        <a href="#" class="product-item">
                                            <div class="product-image-wrapper">
                                                <img src="./styles/picmac/iMac-PNG-HD-Image.png"
                                                    alt="iMac">
                                            </div>
                                            <p class="product-name">iMac</p>
                                            <span class="new-tag">New</span>
                                        </a>
                                        <a href="#" class="product-item">
                                            <div class="product-image-wrapper">
                                                <img src="./styles/picmac/179-1797233_mac-mini-mac-mini-hi-rez-clipart.png"
                                                    alt="Mac mini">
                                            </div>
                                            <p class="product-name">Mac mini</p>
                                            <span class="new-tag">New</span>
                                        </a>
                                        <a href="#" class="product-item">
                                            <div class="product-image-wrapper">
                                                <img src="./styles/picmac/Mac_Studio_Icon.png"
                                                    alt="Mac Studio">
                                            </div>
                                            <p class="product-name">Mac Studio</p>
                                            <span class="new-tag">New</span>
                                        </a>
                                        <a href="#" class="product-item">
                                            <div class="product-image-wrapper">
                                                <img src="./styles/picmac/apple-mac-pro-2014-xl.jpg"
                                                    alt="Mac Pro">
                                            </div>
                                            <p class="product-name">Mac Pro</p>
                                            <span class="new-tag">New</span>
                                        </a>

                                    </div>
                                    <div class="secondary-actions">
                                        <ul class="secondary-links">
                                            <li><a href="#">Find MacBook Air</a></li>
                                            <li><a href="#">Find MacBook Pro</a></li>
                                            <li><a href="#">iMac</a></li>
                                            <li><a href="#">Mac mini</a></li>
                                        </ul>
                                        <div class="action-buttons">
                                            <a href="#" class="btn btn-filled">เปรียบเทียบ</a>
                                            <a href="#" class="btn btn-outlined">ดูโทรศัพท์ทั้งหมด</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li class="dropdown js-overlay-trigger">
                            <a href="#" class="dropbtn">iPad</a>
                            <div class="dropdown-content">
                                <div class="mega-menu-container">
                                    <div class="product-grid">
                                        <a href="#" class="product-item">
                                            <div class="product-image-wrapper">
                                                <img src="./styles/picipad/IPad-Pro-PNG-High-Quality-Image.png" alt="iPad Pro">
                                            </div>
                                            <p class="product-name">iPad Pro</p>
                                            <span class="new-tag">New</span>
                                        </a>
                                        <a href="#" class="product-item">
                                            <div class="product-image-wrapper">
                                                <img src="./styles/picipad/286-2867352_apple-ipad-air-2019-hd-png-download.png" alt="iPad Air">
                                            </div>
                                            <p class="product-name">iPad Air</p>
                                            <span class="new-tag">New</span>
                                        </a>
                                        <a href="#" class="product-item">
                                            <div class="product-image-wrapper">
                                                <img src="./styles/picipad/iPad-Mockup-PNG.png" alt="iPad">
                                            </div>
                                            <p class="product-name">iPad</p>
                                            <span class="new-tag">New</span>
                                        </a>
                                        <a href="#" class="product-item">
                                            <div class="product-image-wrapper">
                                                <img src="./styles/picipad/d4d1d271e8b8739e38ef65ac01dfea9a.png" alt="iPad mini">
                                            </div>
                                            <p class="product-name">iPad mini</p>
                                        </a>

                                        <a href="#" class="product-item">
                                            <div class="product-image-wrapper">
                                                <img src="./styles/picipad/R (1).png"
                                                    alt="Apple Pencil">
                                            </div>
                                            <p class="product-name">Apple Pencil</p>
                                            
                                        </a>

                                        <a href="#" class="product-item">
                                            <div class="product-image-wrapper">
                                                <img src="./styles/picipad/R.png"
                                                    alt="AirPods">
                                            </div>
                                            <p class="product-name">AirPods</p>
                                            
                                        </a>
                                    </div>
                                    <div class="secondary-actions center-button">
                                        <div class="action-buttons">
                                            <a href="#" class="btn btn-outlined">ดู iPad ทั้งหมด</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li class="dropdown js-overlay-trigger">
                            <a href="#" class="dropbtn">iPhone</a>
                            <div class="dropdown-content">
                                <div class="mega-menu-container">
                                    <div class="product-grid">
                                        <a href="#" class="product-item">
                                            <div class="product-image-wrapper">
                                                <img src="./styles/piciphone/iphone16_PNG27.png" alt="iPhone 16">
                                            </div>
                                            <p class="product-name">iPhone 16</p>
                                            <span class="new-tag">New</span>
                                        </a>
                                        <a href="#" class="product-item">
                                            <div class="product-image-wrapper">
                                                <img src="./styles/piciphone/pngtree-iphone-15-blue-png-image_13289457.png" alt="iPhone 15">
                                            </div>
                                            <p class="product-name">iPhone 15</p>
                                            <span class="new-tag">New</span>
                                        </a>
                                        <a href="#" class="product-item">
                                            <div class="product-image-wrapper">
                                                <img src="./styles/piciphone/iPhone-14-PNG-File.png"
                                                    alt="iPhone 14">
                                            </div>
                                            <p class="product-name">iPhone 14</p>
                                        </a>
                                        <a href="#" class="product-item">
                                            <div class="product-image-wrapper">
                                                <img src="./styles/piciphone/R.png"
                                                    alt="iPhone 13">
                                            </div>
                                            <p class="product-name">iPhone 13</p>
                                        </a>

                                        <a href="#" class="product-item">
                                            <div class="product-image-wrapper">
                                                <img src="./styles/piciphone/R (1).png"
                                                    alt="iPhone 12">
                                            </div>
                                            <p class="product-name">iPhone 12</p>
                                        </a>

                                        <a href="#" class="product-item">
                                            <div class="product-image-wrapper">
                                                <img src="./styles/piciphone/iPhone-11-PNG-Photo.png"
                                                    alt="iPhone 11">
                                            </div>
                                            <p class="product-name">iPhone 11</p>
                                        </a>
                                    </div>
                                    <div class="secondary-actions center-button">
                                        <div class="action-buttons">
                                            <a href="#" class="btn btn-outlined">ดู iPhone ทั้งหมด</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li class="dropdown js-overlay-trigger ">
                            <a href="#" class="dropbtn">Watch</a>
                            <div class="dropdown-content">
                                <div class="mega-menu-container">
                                    <div class="product-grid-2-center">
                                        <a href="#" class="product-item">
                                            <div class="product-image-wrapper">
                                                <img src="./styles/piciphone/Apple_Watch_Series_10_46mm_Jet_Black_Hero_Horizontal_Screen__USEN_1070x.png"
                                                    alt="Apple Watch Series 10">
                                            </div>
                                            <p class="product-name">Apple Watch Series 10</p>
                                            <span class="new-tag">New</span>
                                        </a>
                                        <a href="#" class="product-item">
                                            <div class="product-image-wrapper">
                                                <img src="./styles/piciphone/196-1966541_apple-watch-nike-apple-watch-series-3-nike.png"
                                                    alt="Apple Watch Nike">
                                            </div>
                                            <p class="product-name">Apple Watch Nike</p>
                                        </a>
                                    </div>
                                    <div class="secondary-actions center-button">
                                        <div class="action-buttons">
                                            <a href="#" class="btn btn-outlined">ดู Watch ทั้งหมด</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li class="dropdown dropdown-simple js-overlay-trigger">
                            <a href="#" class="dropbtn">About Apple</a>
                            <div class="dropdown-content">
                                <div class="mega-menu-container">
                                    <ul class="simple-menu-links">
                                        <li><a href="#">Newsroom</a></li>
                                        <li><a href="#">Apple Leadership</a></li>
                                        <li><a href="#">Career Opportunities</a></li>
                                        <li><a href="#">My Apple</a></li>
                                    </ul>
                                </div>
                            </div>
                        </li>
                        <li class="dropdown dropdown-simple js-overlay-trigger ">
                            <a href="#" class="dropbtn">Apple</a>
                            <div class="dropdown-content">
                                <div class="mega-menu-container">
                                    <div class="single-link-container">
                                        <a href="#">สำรวจผลิตภัณฑ์และบริการทั้งหมดของ Apple</a>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </nav>
            </div>

            <div class="navbar-right">
                <div class="navbar-icons">
                    <a href="#">ร้านค้าออนไลน์</a>
                    <a href="#">ชุมชน</a>
                    <a href="#">สนับสนุน</a>
                    <a href="#">ตัวค้นหาสาขา</a>

                    <div class="search-icon-container">
                        <a href="#" id="search-icon-trigger" class="js-overlay-trigger">
                            <i class="fas fa-search"></i>
                        </a>
                        <div id="search-popup-menu" class="search-popup">
                            <div class="search-bar-container">
                                <i class="fas fa-search"></i>
                                <input type="text" placeholder="ค้นหาบน apple.com">
                            </div>
                            <div class="quick-links">
                                <h4>Quick Links</h4>
                                <ul>
                                    <li><a href="#">iPhone 16 Pro</a></li>
                                    <li><a href="#">iPad Air</a></li>
                                    <li><a href="#">MacBook Air</a></li>
                                    <li><a href="#">Apple Watch X2</a></li>
                                    <li><a href="#">AirPods</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>

                  
                 


                    <div class="user-icon-container">
                        <a href="#" id="user-icon-trigger" class="js-overlay-trigger">
                            <i class="fas fa-user"></i>
                        </a>
                        <div id="user-popup-menu" class="user-popup">
                            <div class="user-profile-header">
                                <div class="user-avatar">
                                    <i class="fas fa-user"></i>
                                </div>
                                <div class="user-greeting">
                                    <p>สวัสดีครับ</p>
                                    <div class="user-auth-links">
                                        <a href="#">ลงทะเบียน ></a>
                                        <a href="#">เข้าสู่ระบบ ></a>
                                    </div>
                                </div>
                            </div>
                            <hr class="popup-divider">
                            <ul class="user-main-links">
                                <li>
                                    <a href="#">
                                        <span><i class="far fa-user-circle"></i> บัญชี</span>
                                        <i class="fas fa-chevron-right"></i>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <span><i class="far fa-star"></i> Membership</span>
                                        <i class="fas fa-chevron-right"></i>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <a href="#">
                        <i class="fas fa-shopping-cart"></i>
                    </a>
                    <a href="#" class="hamburger-menu" id="hamburger-menu">
            <i class="fas fa-bars"></i>
        </a>

                </div>
            </div>
    </header>
    <div class="page-overlay"></div>
    <div class="mobile-menu" id="mobile-menu">
    <div class="mobile-menu-header">
        <div class="mobile-logo">
            <a href="#">
                <img src="https://upload.wikimedia.org/wikipedia/commons/f/fa/Apple_logo_black.svg" alt="apple-logo">
            </a>
        </div>
        <a href="#" class="mobile-menu-close" id="mobile-menu-close">&times;</a>
    </div>
    <div class="mobile-menu-content">
        <div class="mobile-links-group">
            <a href="#" class="mobile-link-item"><span>โทรศัพท์</span> <i class="fas fa-plus"></i></a>
            <a href="#" class="mobile-link-item"><span>แท็บเล็ต</span> <i class="fas fa-plus"></i></a>
            <a href="#" class="mobile-link-item"><span>เสียง</span> <i class="fas fa-plus"></i></a>
            <a href="#" class="mobile-link-item"><span>อุปกรณ์สวมใส่</span> <i class="fas fa-plus"></i></a>
            <a href="#" class="mobile-link-item"><span>เกี่ยวกับ OPPO</span> <i class="fas fa-plus"></i></a>
            <a href="#" class="mobile-link-item"><span>ColorOS</span> <i class="fas fa-plus"></i></a>
        </div>

        <hr class="mobile-menu-divider">

        <div class="mobile-links-group">
            <a href="#" class="mobile-link-item"><span>ร้านค้าออนไลน์</span> <i class="fas fa-chevron-right"></i></a>
            <a href="#" class="mobile-link-item"><span>ชุมชน</span> <i class="fas fa-chevron-right"></i></a>
            <a href="#" class="mobile-link-item"><span>สนับสนุน</span> <i class="fas fa-chevron-right"></i></a>
            <a href="#" class="mobile-link-item"><span>ตัวค้นหาสาขา</span> <i class="fas fa-chevron-right"></i></a>
        </div>

        <hr class="mobile-menu-divider">

        <div class="mobile-user-section">
            <div class="mobile-user-profile">
                <div class="user-avatar">
                    <i class="fas fa-user"></i>
                </div>
                <div class="user-greeting">
                    <p>สวัสดีครับ</p>
                    <div class="user-auth-links">
                        <a href="#">ลงทะเบียน ></a>
                        <a href="#">เข้าสู่ระบบ ></a>
                    </div>
                </div>
            </div>
            <a href="#" class="mobile-link-item"><span>Membership</span> <i class="fas fa-chevron-right"></i></a>
        </div>
    </div>
</div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- 1. เลือก Element ที่จำเป็นทั้งหมด ---
        const overlay = document.querySelector('.page-overlay');
        const dropdowns = document.querySelectorAll('.dropdown.js-overlay-trigger');
        const searchContainer = document.querySelector('.search-icon-container');
        const searchPopup = document.getElementById('search-popup-menu');
        const userContainer = document.querySelector('.user-icon-container');
        const userPopup = document.getElementById('user-popup-menu');
        const hamburgerMenu = document.getElementById('hamburger-menu');
        const hamburgerIcon = document.getElementById('hamburger-menu');
        const mobileMenu = document.getElementById('mobile-menu');
        const closeIcon = document.getElementById('mobile-menu-close');
       

        let hideOverlayTimeout;
        let hideSearchPopupTimeout;
        let hideUserPopupTimeout;

        // --- ฟังก์ชันแสดงและซ่อนพื้นหลัง ---

       




if (hamburgerIcon && mobileMenu && closeIcon) {
    hamburgerIcon.addEventListener('click', (e) => {
        e.preventDefault();
        mobileMenu.classList.add('active');
    });

    closeIcon.addEventListener('click', (e) => {
        e.preventDefault();
        mobileMenu.classList.remove('active');
    });
}
    if (hamburgerMenu && mainMenu) {
        hamburgerMenu.addEventListener('click', (event) => {
            event.preventDefault(); // ป้องกันการเลื่อนหน้าจอขึ้นไปด้านบน
            mainMenu.classList.toggle('active');
        });
    }
        const showOverlay = () => {
            clearTimeout(hideOverlayTimeout);
            overlay.classList.add('overlay-visible');
        };

        const hideOverlay = () => {
            hideOverlayTimeout = setTimeout(() => {
                overlay.classList.remove('overlay-visible');
            }, 150);
        };

        // --- 2. การทำงานของเมนูหลัก (Mac, iPad, ...) ---
        dropdowns.forEach(dropdown => {
            dropdown.addEventListener('mouseenter', showOverlay);
            dropdown.addEventListener('mouseleave', hideOverlay);
        });

        // --- 3. การทำงานของเมนูค้นหา ---
        if (searchContainer && searchPopup) {
            searchContainer.addEventListener('mouseenter', () => {
                clearTimeout(hideSearchPopupTimeout);
                showOverlay();
                searchPopup.classList.add('visible');
            });

            searchContainer.addEventListener('mouseleave', () => {
                hideSearchPopupTimeout = setTimeout(() => {
                    searchPopup.classList.remove('visible');
                    hideOverlay();
                }, 150);
            });
        }

        // --- 4. การทำงานของเมนูผู้ใช้ (โค้ดที่แก้ไขแล้ว) ---
        if (userContainer && userPopup) {
            userContainer.addEventListener('mouseenter', () => {
                clearTimeout(hideUserPopupTimeout);
                clearTimeout(hideSearchPopupTimeout); // ยกเลิกการซ่อนของเมนูค้นหา
                
                // **ส่วนที่เพิ่มเข้ามา**
                showOverlay(); // แสดงพื้นหลังทึบ
                
                userPopup.classList.add('visible');
            });

            userContainer.addEventListener('mouseleave', () => {
                hideUserPopupTimeout = setTimeout(() => {
                    userPopup.classList.remove('visible');
                    
                    // **ส่วนที่เพิ่มเข้ามา**
                    hideOverlay(); // ซ่อนพื้นหลังทึบ
                }, 150);
            });
        }
   
    });
</script>

    <body>

        <section class="camera-section">
            <div class="banner-content">
                <h1>iPhone 16</h1>
                <div class="buttons">
                    <button class="btn learn-more">เรียนรู้เพิ่มเติม</button>
                    <button class="btn order-now">สั่งซื้อเลย</button>
                </div>
            </div>
        </section>

        <section class="camera-section1">
            <p>iPhone 16</p>
            <div class="buttons2">
                <button class="btn learn-more">เรียนรู้เพิ่มเติม</button>
                <button class="btn order-now">สั่งซื้อเลย</button>
            </div>
        </section>



        <section class="camera-section2">
            <p class="macbook-air-text">MacBook Air</p>
            <p class="speed-text">เร็วเหนือเมฆ</p>
            <div class="buttons3">
                <button class="btn learn-more">เรียนรู้เพิ่มเติม</button>
                <button class="btn order-now">สั่งซื้อเลย</button>
            </div>
            <div class="vertical-text-section">
                <h1 class="vertical-text">
                    <span class="char-i">i</span><br>
                    <span class="char-p">P</span><br>
                    <span class="char-h">h</span><br>
                    <span class="char-o">o</span><br>
                    <span class="char-n">n</span><br>
                    <span class="char-e">e</span>
                </h1>
            </div>
        </section>

        <section class="camera-section3">
            <div class="buttons4">
                <button class="btn learn-more">เรียนรู้เพิ่มเติม</button>
                <button class="btn order-now">สั่งซื้อเลย</button>
            </div>
            <div class="vertical-text-section">
            </div>
        </section>

        <main>
            <div class="content-container">
                <div class="product-header">
                    <h2 class="product-section-title">สินค้าใหม่</h2>
                    <a href="#" class="product-more-link">ดูสินค้าเพิ่มเติม <span class="arrow">></span></a>
                </div>

                <!--สินค้าใหม่ -->

                <div class="product-hero">
                    <div class="hero-content">
                        <h1 class="hero-title">iPad Air 6</h1>
                        <p class="card-description"> ยกระดับประสบการณ์การสร้างสรรค์ด้วยชิป M2 และกล้องหน้าอัลตร้าไวด์
                            12MP
                        </p>
                        <div class="hero-buttons">
                            <button class="hero-btn">เรียนรู้เพิ่มเติม</button>
                            <button class="hero-btn">สั่งซื้อคลิก</button>
                        </div>
                    </div>
                    <div class="hero-image-container">
                        <img src="./21666bb8-6b68-449e-824d-c491279c71d4.png" alt="iPad Air 6" class="hero-image">
                    </div>
                </div>


                <div class="product-row">
                    <div class="product-card">
                        <div class="card-text">
                            <h3 class="card-title">AirPods Max</h3>
                            <p class="card-description">
                                เสียงคมชัดทุกย่านความถี่<br>เสียงระดับ High-Fidelity
                            </p>
                            <div class="card-buttons">
                                <button class="card-btn">เรียนรู้เพิ่มเติม</button>
                                <button class="card-btn">สั่งซื้อคลิก</button>
                            </div>
                        </div>
                        <div class="card-image-wrapper">
                            <img src="./styles/picproduct/hero__gnfk5g59t0qe_xlarge.png" alt="AirPods Max"
                                class="card-image">
                        </div>
                    </div>

                    <div class="product-card">
                        <div class="card-text">
                            <h3 class="card-title">Apple Watch Series 10</h3>
                            <p class="card-description">
                                ล้ำไปอีกขั้น<br>สวยสะกดทุกสายตา
                            </p>
                            <div class="card-buttons">
                                <button class="card-btn">เรียนรู้เพิ่มเติม</button>
                                <button class="card-btn">สั่งซื้อคลิก</button>
                            </div>
                        </div>
                        <div class="card-image-wrapper">
                            <img src="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/watch-ultra2-digitalmat-gallery-1-202403?wid=728&hei=666&fmt=png-alpha&.v=1708453942051"
                                alt="Apple Watch" class="card-image-stacked">
                        </div>
                    </div>
                </div>

                <div class="product-row">
                    <div class="product-card">
                        <div class="card-text">
                            <h3 class="card-title">Apple Watch X2</h3>
                            <p class="card-description">
                                สร้างสรรค์ให้มีความเป็นเอกลักษณ์
                            </p>
                            <div class="card-buttons">
                                <button class="card-btn">เรียนรู้เพิ่มเติม</button>
                                <button class="card-btn">สั่งซื้อคลิก</button>
                            </div>
                        </div>
                        <div class="card-image-wrapper">
                            <img src="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/airpods-max-select-midnight-202011?wid=940&hei=1112&fmt=png-alpha&.v=1604022372000"
                                alt="AirPods Max" class="card-image">
                        </div>
                    </div>

                    <div class="product-card">
                        <div class="card-text">
                            <h3 class="card-title">iPad SE</h3>
                            <p class="card-description">
                                หน้าจอขอบบางเป็นฐานของทุกสิ่ง
                            </p>
                            <div class="card-buttons">
                                <button class="card-btn">เรียนรู้เพิ่มเติม</button>
                                <button class="card-btn">สั่งซื้อคลิก</button>
                            </div>
                        </div>
                        <div class="card-image-wrapper">
                            <img src="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/watch-ultra2-digitalmat-gallery-1-202403?wid=728&hei=666&fmt=png-alpha&.v=1708453942051"
                                alt="Apple Watch" class="card-image-stacked">
                        </div>
                    </div>
                </div>


            </div>
        </main>

    </body>






</html>